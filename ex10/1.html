<!DOCTYPE html>
<html>
  <head>
    <title>23BCE1599 Abeer Gupta</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f0f2f5;
      }
      h2 {
        color: #2c3e50;
        text-align: center;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }
      th,
      td {
        padding: 10px;
        text-align: left;
        border: 1px solid #ddd;
      }
      th {
        background-color: #3498db;
        color: white;
      }
      tr:nth-child(even) {
        background-color: #f2f2f2;
      }
      input,
      button {
        padding: 8px;
        margin: 5px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      button {
        background-color: #3498db;
        color: white;
        cursor: pointer;
        border: none;
      }
      button:hover {
        background-color: #2980b9;
      }
    </style>
  </head>
  <body>
    <h2>Hospital Patient Data Analytics</h2>
    <div id="output"></div>
    <br />
    <input type="number" id="searchId" placeholder="Enter Patient ID" />
    <button onclick="searchPatient()">Search Patient</button>
    <br /><br />
    <input type="number" id="minAge" placeholder="Min Age" />
    <input type="number" id="maxAge" placeholder="Max Age" />
    <button onclick="filterByAge()">Filter by Age</button>

    <script>
      // Patient data
      const patients = [
        { id: 1, name: "Alen", age: 39 },
        { id: 2, name: "Deena", age: 47 },
        { id: 3, name: "Diana", age: 21 },
        { id: 4, name: "Jack", age: 54 },
        { id: 5, name: "Jain", age: 23 },
        { id: 6, name: "Kelvin", age: 61 },
        { id: 7, name: "Louis", age: 69 },
        { id: 8, name: "Rex", age: 49 },
      ];

      // Sort and display by age (descending)
      function sortByAge() {
        const sorted = [...patients].sort((a, b) => b.age - a.age);
        displayPatients("Sorted by Age (Descending):", sorted);
      }

      // Search patient by ID
      function searchPatient() {
        const id = parseInt(document.getElementById("searchId").value);
        const found = patients.find((p) => p.id === id);
        if (found) {
          displayPatients("Patient Found:", [found]);
        } else {
          document.getElementById("output").innerHTML = "Patient ID not found!";
        }
      }

      // Filter by age range
      function filterByAge() {
        const minAge = parseInt(document.getElementById("minAge").value);
        const maxAge = parseInt(document.getElementById("maxAge").value);
        const filtered = patients.filter(
          (p) => p.age >= minAge && p.age <= maxAge
        );
        displayPatients("Filtered by Age Range:", filtered);
      }

      // Display function
      function displayPatients(title, patientList) {
        let output = `<h3>${title}</h3>
             <table border="1">
             <tr><th>P-Id</th><th>Name</th><th>Age</th></tr>`;
        patientList.forEach((p) => {
          output += `<tr><td>${p.id}</td><td>${p.name}</td><td>${p.age}</td></tr>`;
        });
        output += "</table>";
        document.getElementById("output").innerHTML = output;
      }

      // Initial display of sorted data
      sortByAge();
    </script>
  </body>
</html>
